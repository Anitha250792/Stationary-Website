{% extends 'base.html' %}
{% load static %}
{% block content %}
<main style="background-color: #D3DFF8">

  <!-- Hero Section -->
  <section class="container mx-auto px-4 py-8 md:py-12">
    <div class="grid md:grid-cols-3 items-end gap-0">
      <img src="{% static 'images/1.png' %}" alt="" class="rounded-2xl w-full h-52 object-cover relative top-6 shadow-md">
      <div class="rounded-2xl h-72 w-full bg-[url('{% static "images/2.png" %}')] bg-cover bg-center grid place-items-center relative top-0">
        <div></div>
      </div>
      <img src="{% static 'images/3.png' %}" alt="" class="rounded-2xl w-full h-52 object-cover relative -top-6 shadow-md">
    </div>
  </section>

  <!-- Intro Text -->
  <section class="container mx-auto px-4 text-center m-8">
    <h2 class="text-xl md:text-2xl font-bold text-slate-800">Essential Stationery, Exceptional Supply</h2>
    <p class="text-slate-700 mt-2 px-12 max-w-6xl">
      From pens to paper, we deliver quality tools that power classrooms, offices, and creativity.
      Bulk pricing, reliable service, and everything your workspace needs—right at your fingertips.
    </p>
  </section>

  <!-- Image Grid -->
  <section class="container mx-auto px-4 py-6 m-6">
    <div class="grid sm:grid-cols-3 gap-4">
      <img src="{% static 'images/4.png' %}" class="rounded-xl shadow w-full h-40 object-cover" alt="">
      <img src="{% static 'images/5.png' %}" class="rounded-xl shadow w-full h-40 object-cover" alt="">
      <img src="{% static 'images/6.png' %}" class="rounded-xl shadow w-full h-40 object-cover" alt="">
    </div>
  </section>

  <!-- Articles Section -->
  <section class="container mx-auto px-4 grid md:grid-cols-2 gap-8 items-start m-6">
    <div class="space-y-6 m-8">
      <article class="space-y-3 text-slate-800">
        <h3 class="font-bold text-lg">1. Writing Essentials</h3>
        <p>From everyday ballpoint pens to premium gel pens and highlighters, our writing tools ensure clarity, comfort, and efficiency. Perfect for classrooms, offices, or creative spaces, these essentials are built to last and perform.</p>
      </article>
      <article class="space-y-3 text-slate-800">
        <h3 class="font-bold text-lg">2. Paper Products</h3>
        <p>Whether it's notebooks, notepads, printer paper, or sticky notes, our paper supplies cover every need. Designed for durability and smooth performance, these products are ideal for note-taking, organizing, printing, or planning in any situation.</p>
      </article>
      <article class="space-y-3 text-slate-800">
        <h3 class="font-bold text-lg">3. Classroom & Office Tools</h3>
        <p>Keep workspaces equipped and efficient with rulers, staplers, scissors, erasers, and more. These tools bring order and precision to daily tasks, making them indispensable in both educational and professional environments.</p>
      </article>
    </div>
    <div class="flex justify-center">
      <img src="{% static 'images/7.png' %}" alt="Office Supplies" class="rounded-2xl shadow-md w-full max-w-md object-cover">
    </div>
  </section>

  <!-- Featured Section -->
  <section class="container">
    <h3 class="text-xl font-bold text-center m-10">Featured Products</h3>
    <div class="flex flex-wrap justify-center gap-8">
      {% for product in featured %}
      <div class="w-[200px] rounded-xl bg-blue-400 shadow hover:shadow-lg transition text-center">
        <img src="{{ product.image.url }}" alt="{{ product.title }}" class="rounded-lg w-full h-28 object-cover">
        <div class="mt-2">
          <div class="font-medium text-sm">{{ product.title }}</div>
          <!-- Rating -->
          <div class="flex items-center justify-center mt-1 space-x-0.5">
  {% with rating=product.rating|default:0 %}
    {% for i in "12345" %}
      {% if forloop.counter <= rating|floatformat:0 %}
    <span class="text-amber-500 text-2xl">★</span>
              {% else %}
                 <span class="text-amber-300 text-2xl">★</span>
     
      {% endif %}
    {% endfor %}
  {% endwith %}
  <span class="ml-1 text-black text-xs">({{ product.rating|default:"0" }})</span>
</div>
          <!-- Price -->
          <div class="mt-1 font-bold text-sm">
            {% if product.discount_price %}
              <span class="line-through text-gray-200">Rs. {{ product.price }}</span>
              <span class="font-bold text-yellow-300 ml-2">Rs. {{ product.discount_price }}</span>
            {% else %}
              Rs. {{ product.price }}
            {% endif %}
          </div>
          {% if product.bulk_offer_text %}
            <div class="text-xs text-black mt-1">{{ product.bulk_offer_text }}</div>
          {% endif %}
          <!-- Add to Cart -->
          <form method="POST" action="{% url 'cart_update' product.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-light w-50 mt-2 rounded-lg text-sm py-1 mb-2">Add to Cart</button>
          </form>
        </div>
      </div>
      {% empty %}
      <p class="w-full text-center text-slate-600">Add featured products in admin to see them here.</p>
      {% endfor %}
    </div>
  </section>

  <!-- Trending Section -->
  <section class="container mx-auto px-4 py-10">
    <h3 class="text-2xl font-bold text-center mb-6">Trending</h3>
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 justify-items-center">
      {% for product in trending %}
        <div class="rounded-3xl bg-white shadow hover:shadow-lg transition">
          <img src="{{ product.image.url }}" alt="{{ product.title }}" class="rounded-xl w-full h-40 object-cover">
        </div>
      {% empty %}
        <p class="col-span-full text-center text-slate-600">Mark items as trending in admin.</p>
      {% endfor %}
    </div>
  </section>

  <!-- Back to School Section -->
  <section class="container mx-auto px-4 py-10">
    <h3 class="text-2xl font-bold text-center mb-6">Back to School</h3>
    <div class="flex flex-wrap justify-center gap-8">
      {% for product in back_to_school %}
      <div class="w-[200px] rounded-xl bg-blue-400 shadow hover:shadow-lg transition text-center">
        <img src="{{ product.image.url }}" alt="{{ product.title }}" class="rounded-lg w-full h-28 object-cover">
        <div class="mt-2">
          <div class="font-medium text-sm">{{ product.title }}</div>
          <!-- Rating -->
          <div class="flex items-center justify-center mt-1 space-x-0.5">
  {% with rating=product.rating|default:0 %}
    {% for i in "12345" %}
      {% if forloop.counter <= rating|floatformat:0 %}
   <span class="text-amber-500 text-2xl">★</span>
              {% else %}
               <span class="text-amber-300 text-2xl">★</span>
     
      {% endif %}
    {% endfor %}
  {% endwith %}
  <span class="ml-1 text-black text-xs">({{ product.rating|default:"0" }})</span>
</div>
          <!-- Price -->
          <div class="mt-1 font-bold text-sm">
            {% if product.discount_price %}
              <span class="line-through text-gray-200">Rs. {{ product.price }}</span>
              <span class="font-bold text-yellow-300 ml-2">Rs. {{ product.discount_price }}</span>
            {% else %}
              Rs. {{ product.price }}
            {% endif %}
          </div>
          {% if product.bulk_offer_text %}
            <div class="text-xs text-black mt-1">{{ product.bulk_offer_text }}</div>
          {% endif %}
          <!-- Add to Cart -->
          <form method="POST" action="{% url 'cart_update' product.id %}">
            {% csrf_token %}
            <button type="submit" class="btn btn-light w-50 mt-2 rounded-lg text-sm py-1 mb-2">Add to Cart</button>
          </form>
        </div>
      </div>
      {% empty %}
      <p class="w-full text-center text-slate-600">Add Back to School items in admin to see them here.</p>
      {% endfor %}
    </div>
  </section>

  <!-- Team Section -->
  <section class="container mx-auto px-4 py-6">
    <h3 class="text-2xl font-bold text-center mb-6">The Team</h3>
    <p class="text-center text-slate-700 max-w-3xl mx-auto mb-6">
      Our team is a dedicated group of professionals passionate about delivering quality stationery in bulk with efficiency and care. With expertise in sourcing, logistics, and customer service, we ensure every order meets the highest standards.
    </p>
    <div class="grid sm:grid-cols-3 gap-6">
      {% for i in "123" %}
      <div class="rounded-2xl mb-2 text-center">
        <img src="{% static 'images/team'|add:i|add:'.png' %}" class="rounded-xl w-full h-54 object-cover" alt="Team member {{ i }}">
        <div class="mt-3 font-semibold">Seth Rollins</div>
        <div class="text-sm mb-3 text-slate-600">Shop Owner</div>
      </div>
      {% endfor %}
    </div>
  </section>

</main>
{% endblock %}
